# Vim 常用基本操作，与 VsCode 的强强联合

## 基本的模式切换

    vim 操作分四种模式：普通模式(命令模式)、输入模式、视图模式、底线命令模式,普通模式是用得最多的模式，而其它三种模式之间的切换则以普通模式为跳板。

1. 普通模式->输入模式：

   - a/A: 字符后/行尾插入
   - o/O: 下/上另起一行插入
   - i/I: 字符前/行首插入
   - s/S: 删除单个字符并进入插入模式/删除整行并进入插入模式
   - c: 配合文本对象进行替换, 文本对象可以理解为一个单词（cw, ciw, caw, 这里 w 就是用来控制单词选择的），一个句子。
   - C: 删除当前行光标所在位置往后的字符

2. 普通模式->视图模式:

   - v/V: 选中当前字符/选中当前行
   - <Ctrl-v>： 方块选择（win 中注意会和系统粘贴有冲突）

3. 普通模式->底线命令模式
   格式（冒号 + command）

   - :reg: 查看所有寄存器内容
   - :set num: 设置行号

4. 其它模式->普通模式：

   - <Esc>/<Ctrl-[>

## 插入模式下：

- <Ctrl-h> 删除上一个字符
- <Ctrl-w> 删除上一个单词
- <Ctrl-u> 删除当前行
  注意：以上三个操作都是不可恢复的

## 命令模式下：

1. 光标移动:

   - hjkl 上下左右移动，nh 向左移动 n 个字符,其它依次类推,也可以配合 gh,Gh 进行跳转
   - w/b/e 跳转至下一个非空白符分隔的单词,下一个首部/上一个首部/下一个尾部
   - W/B/E 跳转至下一个空白符分隔的单词,同上
   - f/F + 字符 当前行查找单个字符,分号进入下一匹配，
   - t/T + 字符 是查找到 f,F 的前一个字符,一般用的较少，f 用得较多
   - #向上查找,n/N 键进入下(上)一匹配, \*键向下查找
   - <0-w> 快速移动到当行字符第一个单词首部(适应于有缩进的行)
   - \$ 行尾,0 行首,^ 句首
   - () 句子间移动，一般由英文断句分隔，
   - {} 段落间移动, 一般由空行分隔
   - % 匹配的括号，引号之前来回跳转
   - H,M,L 快速跳转到当前视图开头，中间，结尾
   - gg/G 快速跳转到最开始和最末尾
   - <ctrl-o> 快速返回跳转前的位置
   - gi 快速跳转到最后一次编辑的地方

2. 删除操作:

   - dd 删除整行
   - D 向左删除
   - x 删除字符
   - X 向左删除
   - n+d,n+x 删除 n 行或者 n 个字符
   - iw: inner word 光标在单词里面任何位置操作单词， diw, di' 删除光标所在单词，或者引号间的单词。
   - aw: around word 它会选中当前单词及当前单词之后的空格。 daw,da' 删除光标所在包括后面空格的单词。

3. 修改:

   - r/R 替换单个字符或向右依次替换并进入插入模式
   - c 配合文本对象进行修改,cw,C,ciw,caw 并进入插入模式
   - s,S 替换并进入插入模式
   - ~ 大小写切换

4. 查找:

   - 除开上述的 f/F/t/T/\*/#号外， /或者?进行向前或反向搜索，n/N 向前或向后匹配

5. 复制粘贴:

   - yy 复制一行
   - nyy 复制 n 行
   - yw,ye 向后复制一个单词,
   - yb 向前复制一个单词，
   - "9y 复制到内容到 9 号寄存器中(注意前面的双引号)
   - p 粘贴，"9p 从 9 号寄存器中粘贴(注意前面的比引号)
   - 寄存器：剪切版'+'，当前文件名'%',上次插入文本'.'

6. 常用其它操作:

   - . 重复上一步操作
   - u 类似于 系统 ctrl + z
   - <Ctrl-r>撤销 u 操作
   - <Ctrl-d>向下
   - <Ctrl-u>向上
   - gd:跳转到定义,用的较多
   - gh:查看光标所在处错误信息
   - af: 视图模式下扩展当前块级视图(用的较少)

7. 宏命令:

   - q{register} + action + q 记录宏, qa^i"q(a 表示宏的 register, ^i"表示一个 action，在当行首部添加一个引号)
   - @{register}执行宏, @a，将上述记录的宏在当行执行
   - '<,'> normal @{register} 视图模式执行宏

8. 窗口:

   - <c-w-h/l/j/k>切换窗口
   - :vs 竖向分隔窗口
   - :sp 横向分隔窗口

## 插件

1. gcc 插件注释(vscode 中默认集成):

   - gcc 快速注释当前行, gc2j 注释以下三行, VISUAL 模式 gc 可快速注释选中行
   - gC VISUAL 模式使用块级注释

2. easymotion(vscode 中默认集成，但是需要手动打开）:
   需要先设置 leader 键,一般是逗号
   ```javascrpt
   {
      "vim.easymotion": true,
      "vim.leader": ","
   }
   ```
   - <leader><leader> w/b 向前/向后到达可见范围内任何单词的开头
   - <leader><leader> e/ge 向前/向后到达可见范围内任何单词的结尾
   - <leader><leader> k/j 向前/向后到达可见范围内任何行的行首

## 底部命令模式下：

以下命令一般在命令行 vim 编辑器中常用或作为基础配置，在 vscode 中很多已经被 vscode 默认取代了。

- :set 查询可用参数
- :set nu 行号
- :set hls 高亮
- :set incsearch 增亮搜索
- :syntax on 语法高亮
- :help ( 查找'('相关帮助信息
- :set clipboard=unnamed 系统剪切版为当前寄存器
- :reg 查看寄存器
- :colorscheme <c-d> {theme} 切换查看当前主题

## 附终端命令中常用的命令编辑快捷键(和 vim 有些相似)

- ctrl + h 删除上一个字符
- ctrl + w 删除上一个单词
- ctrl + u 删除一行
- ctrl + a 移到开始
- ctrl + e 移到末尾
- ctrl + b 前移
- ctrl + f 往后移
